{% extends "base.html" %}

{% block title %}{{ data.personal_info.name }} - Portfolio{% endblock %}

{% block content %}
<!-- Interactive Navigation Sections -->
<section class="interactive-nav-section py-3 bg-light scroll-reveal">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-navigator">
                    <div class="nav-pills-container">
                        <a href="#hero" class="nav-pill active" data-section="hero">
                            <i class="fas fa-home"></i>
                            <span>Home</span>
                        </a>
                        <a href="#about" class="nav-pill" data-section="about">
                            <i class="fas fa-user"></i>
                            <span>About</span>
                        </a>
                        <a href="#stats" class="nav-pill" data-section="stats">
                            <i class="fas fa-chart-bar"></i>
                            <span>Stats</span>
                        </a>
                        <a href="#skills" class="nav-pill" data-section="skills">
                            <i class="fas fa-code"></i>
                            <span>Skills</span>
                        </a>
                        <a href="#experience" class="nav-pill" data-section="experience">
                            <i class="fas fa-briefcase"></i>
                            <span>Experience</span>
                        </a>
                        <a href="#contact" class="nav-pill" data-section="contact">
                            <i class="fas fa-envelope"></i>
                            <span>Contact</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Hero Section with Advanced Animations -->
<section id="hero" class="hero-section bg-gradient-primary text-white py-5 mb-5 scroll-reveal">
    <div class="container">
        <div class="row align-items-center min-vh-75">
            <div class="col-lg-6 mb-4 mb-lg-0">
                <div class="hero-content">
                    <div class="typing-container">
                        <h1 class="display-4 fw-bold mb-3 animate-fade-in">
                            <span class="typing-text">{{ data.personal_info.name }}</span>
                            <span class="cursor">|</span>
                        </h1>
                    </div>
                    <h2 class="h3 mb-4 text-light opacity-90 animate-fade-in-delay slide-in-right">
                        {{ data.personal_info.title }}
                    </h2>
                    <p class="lead mb-4 animate-fade-in-delay-2 slide-in-left">
                        {{ data.bio }}
                    </p>
                    <div class="hero-buttons animate-fade-in-delay-3">
                        <a href="{{ url_for('main.bio') }}" class="btn btn-light btn-lg me-3 mb-2 pulse-btn">
                            <i class="fas fa-user me-2"></i>View Bio
                        </a>
                        <a href="{{ url_for('main.resume_access') }}" class="btn btn-outline-light btn-lg mb-2 glow-btn">
                            <i class="fas fa-download me-2"></i>Download Resume
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image-container">
                    <div class="floating-elements">
                        <div class="floating-icon" style="--delay: 0s; --duration: 3s;">
                            <i class="fab fa-aws"></i>
                        </div>
                        <div class="floating-icon" style="--delay: 1s; --duration: 4s;">
                            <i class="fab fa-docker"></i>
                        </div>
                        <div class="floating-icon" style="--delay: 2s; --duration: 3.5s;">
                            <i class="fab fa-python"></i>
                        </div>
                    </div>
                    <div class="hero-image animate-float">
                        <img src="{{ url_for('static', filename=data.personal_info.profile_image) }}" 
                             alt="{{ data.personal_info.name }}" 
                             class="img-fluid rounded-circle shadow-lg profile-image hover-glow">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Interactive About Section -->
<section id="about" class="about-section py-5 mb-5 scroll-reveal">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title animate-on-scroll" data-animation="fadeInUp">
                    <i class="fas fa-user-circle text-primary me-3"></i>About Me
                </h2>
                <div class="section-divider"></div>
            </div>
        </div>
        <div class="row align-items-center">
            <div class="col-lg-6 mb-4">
                <div class="about-content animate-on-scroll" data-animation="slideInLeft">
                    <div class="highlight-box">
                        <h4 class="text-primary mb-3">Professional Summary</h4>
                        <p class="lead">{{ data.bio }}</p>
                    </div>
                    <div class="quick-facts mt-4">
                        <div class="fact-item">
                            <i class="fas fa-map-marker-alt text-primary"></i>
                            <span>{{ data.personal_info.location.split(',')[0] }}</span>
                        </div>
                        <div class="fact-item">
                            <i class="fas fa-envelope text-primary"></i>
                            <span>{{ data.personal_info.email }}</span>
                        </div>
                        <div class="fact-item">
                            <i class="fas fa-globe text-primary"></i>
                            <span>Available for Remote Work</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="skills-radar animate-on-scroll" data-animation="slideInRight">
                    <div class="radar-chart">
                        <canvas id="skillsRadar" width="300" height="300"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Interactive Stats Section -->
<section id="stats" class="stats-section py-5 mb-5 scroll-reveal">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title animate-on-scroll" data-animation="fadeInUp">
                    <i class="fas fa-chart-line text-primary me-3"></i>Professional Metrics
                </h2>
                <div class="section-divider"></div>
            </div>
        </div>
        <div class="row text-center">
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-card h-100 animate-on-scroll" data-animation="bounceIn" data-delay="0.1s">
                    <div class="stat-icon pulse-icon">
                        <i class="fas fa-calendar-alt text-primary"></i>
                    </div>
                    <h3 class="stat-number counter" data-target="5">0</h3>
                    <p class="stat-label">Years Experience</p>
                    <div class="progress-ring">
                        <svg class="progress-ring-svg" width="80" height="80">
                            <circle class="progress-ring-circle" cx="40" cy="40" r="35" stroke="#667eea" stroke-width="4" fill="transparent" stroke-dasharray="220" stroke-dashoffset="44"/>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-card h-100 animate-on-scroll" data-animation="bounceIn" data-delay="0.2s">
                    <div class="stat-icon pulse-icon">
                        <i class="fas fa-certificate text-success"></i>
                    </div>
                    <h3 class="stat-number counter" data-target="4">0</h3>
                    <p class="stat-label">Certifications</p>
                    <div class="progress-ring">
                        <svg class="progress-ring-svg" width="80" height="80">
                            <circle class="progress-ring-circle" cx="40" cy="40" r="35" stroke="#28a745" stroke-width="4" fill="transparent" stroke-dasharray="220" stroke-dashoffset="165"/>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-card h-100 animate-on-scroll" data-animation="bounceIn" data-delay="0.3s">
                    <div class="stat-icon pulse-icon">
                        <i class="fas fa-chart-line text-warning"></i>
                    </div>
                    <h3 class="stat-number">99.9%</h3>
                    <p class="stat-label">Uptime Achieved</p>
                    <div class="progress-ring">
                        <svg class="progress-ring-svg" width="80" height="80">
                            <circle class="progress-ring-circle" cx="40" cy="40" r="35" stroke="#ffc107" stroke-width="4" fill="transparent" stroke-dasharray="220" stroke-dashoffset="22"/>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-card h-100 animate-on-scroll" data-animation="bounceIn" data-delay="0.4s">
                    <div class="stat-icon pulse-icon">
                        <i class="fas fa-project-diagram text-info"></i>
                    </div>
                    <h3 class="stat-number counter" data-target="50">0</h3>
                    <p class="stat-label">Projects Completed</p>
                    <div class="progress-ring">
                        <svg class="progress-ring-svg" width="80" height="80">
                            <circle class="progress-ring-circle" cx="40" cy="40" r="35" stroke="#17a2b8" stroke-width="4" fill="transparent" stroke-dasharray="220" stroke-dashoffset="66"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Interactive Skills Section -->
<section id="skills" class="skills-preview py-5 mb-5 scroll-reveal">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title animate-on-scroll" data-animation="fadeInUp">
                    <i class="fas fa-cogs text-primary me-3"></i>Technical Expertise
                </h2>
                <div class="section-divider"></div>
                <p class="section-subtitle animate-on-scroll" data-animation="fadeInUp" data-delay="0.2s">
                    Core technologies and skills I work with
                </p>
            </div>
        </div>
        <div class="row">
            {% for category, skill_data in data.skills.items() %}
            {% if loop.index <= 6 %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="skill-category-card h-100 animate-on-scroll interactive-card" data-animation="slideInUp" data-delay="{{ loop.index * 0.1 }}s">
                    <div class="skill-icon-container">
                        <div class="skill-icon rotating-icon">
                            <i class="{{ skill_data.icon }} text-primary"></i>
                        </div>
                        <div class="skill-progress-ring">
                            <svg width="60" height="60">
                                <circle cx="30" cy="30" r="25" stroke="#e9ecef" stroke-width="3" fill="transparent"/>
                                <circle cx="30" cy="30" r="25" stroke="#667eea" stroke-width="3" fill="transparent" 
                                        stroke-dasharray="157" stroke-dashoffset="{{ 157 - (loop.index * 20) }}" 
                                        class="progress-circle"/>
                            </svg>
                        </div>
                    </div>
                    <h5 class="skill-category-title">{{ category }}</h5>
                    <div class="skill-tags">
                        {% for skill in skill_data.skills[:3] %}
                        <span class="skill-tag animate-tag" style="--delay: {{ loop.index * 0.1 }}s">{{ skill }}</span>
                        {% endfor %}
                        {% if skill_data.skills|length > 3 %}
                        <span class="skill-tag more animate-tag" style="--delay: 0.4s">+{{ skill_data.skills|length - 3 }} more</span>
                        {% endif %}
                    </div>
                    <div class="card-overlay">
                        <a href="{{ url_for('main.skills') }}" class="overlay-btn">
                            <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endif %}
            {% endfor %}
        </div>
        <div class="text-center mt-4">
            <a href="{{ url_for('main.skills') }}" class="btn btn-primary btn-lg pulse-btn">
                <i class="fas fa-code me-2"></i>View All Skills
            </a>
        </div>
    </div>
</section>

<!-- Enhanced Interactive Experience Section -->
<section id="experience" class="experience-preview py-5 mb-5 scroll-reveal">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title animate-on-scroll" data-animation="fadeInUp">
                    <i class="fas fa-briefcase text-primary me-3"></i>Professional Journey
                </h2>
                <div class="section-divider"></div>
                <p class="section-subtitle animate-on-scroll" data-animation="fadeInUp" data-delay="0.2s">
                    Latest professional roles and achievements
                </p>
            </div>
        </div>
        <div class="timeline-container">
            {% for exp in data.experience[:3] %}
            <div class="timeline-item animate-on-scroll" data-animation="slideIn{{ 'Left' if loop.index % 2 == 1 else 'Right' }}" data-delay="{{ loop.index * 0.2 }}s">
                <div class="timeline-marker">
                    <div class="timeline-icon">
                        <i class="fas fa-building"></i>
                    </div>
                </div>
                <div class="timeline-content">
                    <div class="experience-card interactive-card">
                        <div class="experience-header">
                            <h5 class="experience-position">{{ exp.position }}</h5>
                            <h6 class="experience-company">{{ exp.company }}</h6>
                            <p class="experience-duration">
                                <i class="fas fa-calendar me-1"></i>{{ exp.duration }}
                            </p>
                        </div>
                        <div class="experience-content">
                            <p class="experience-description">{{ exp.description }}</p>
                            <div class="experience-technologies">
                                {% for tech in exp.technologies[:4] %}
                                <span class="tech-badge animate-tag" style="--delay: {{ loop.index * 0.1 }}s">{{ tech }}</span>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="card-overlay">
                            <a href="{{ url_for('main.experience') }}" class="overlay-btn">
                                <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-5">
            <a href="{{ url_for('main.experience') }}" class="btn btn-outline-primary btn-lg glow-btn">
                <i class="fas fa-briefcase me-2"></i>View Full Experience
            </a>
        </div>
    </div>
</section>

<!-- Enhanced Contact CTA Section -->
<section id="contact" class="contact-cta bg-gradient-secondary py-5 scroll-reveal">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8 mb-4 mb-lg-0">
                <div class="cta-content animate-on-scroll" data-animation="slideInLeft">
                    <h3 class="cta-title text-white">Ready to collaborate?</h3>
                    <p class="cta-subtitle text-light mb-0">Let's discuss your next cloud infrastructure project</p>
                    <div class="contact-methods mt-3">
                        <div class="contact-method">
                            <i class="fas fa-envelope text-light"></i>
                            <span class="text-light">{{ data.personal_info.email }}</span>
                        </div>
                        <div class="contact-method">
                            <i class="fab fa-linkedin text-light"></i>
                            <span class="text-light">LinkedIn Profile</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 text-lg-end">
                <div class="cta-buttons animate-on-scroll" data-animation="slideInRight">
                    <a href="{{ url_for('main.contact') }}" class="btn btn-light btn-lg pulse-btn mb-2">
                        <i class="fas fa-envelope me-2"></i>Get In Touch
                    </a>
                    <a href="{{ url_for('main.resume_access') }}" class="btn btn-outline-light btn-lg glow-btn">
                        <i class="fas fa-download me-2"></i>Download Resume
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

<style>
/* ===== INTERACTIVE UI FEATURES - ADVANCED ANIMATIONS ===== */

/* Section Navigator */
.interactive-nav-section {
    position: sticky;
    top: 76px;
    z-index: 1030;
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(0,0,0,0.1);
}

.nav-pills-container {
    display: flex;
    gap: 1rem;
    padding: 0.5rem 0;
    overflow-x: auto;
    scrollbar-width: none;
}

.nav-pill {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.5rem;
    border-radius: 50px;
    text-decoration: none;
    color: #6c757d;
    background: white;
    border: 2px solid transparent;
    transition: all 0.3s ease;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    white-space: nowrap;
}

.nav-pill:hover, .nav-pill.active {
    color: white;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
}

/* Enhanced Hero Animations */
.typing-text {
    border-right: 3px solid white;
    animation: blink-caret 0.75s step-end infinite;
}

@keyframes blink-caret {
    from, to { border-color: transparent; }
    50% { border-color: white; }
}

.floating-elements {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.floating-icon {
    position: absolute;
    font-size: 2rem;
    color: rgba(255, 255, 255, 0.7);
    animation: float var(--duration) ease-in-out infinite;
    animation-delay: var(--delay);
}

.floating-icon:nth-child(1) { top: 20%; left: 10%; }
.floating-icon:nth-child(2) { top: 60%; right: 15%; }
.floating-icon:nth-child(3) { bottom: 30%; left: 20%; }

@keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    25% { transform: translateY(-20px) rotate(5deg); }
    50% { transform: translateY(-10px) rotate(-5deg); }
    75% { transform: translateY(-15px) rotate(3deg); }
}

.hover-glow:hover {
    transform: scale(1.05);
    box-shadow: 0 0 50px rgba(255, 255, 255, 0.5);
    filter: brightness(1.1);
}

/* Enhanced Buttons */
.pulse-btn {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
    70% { box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
    100% { box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
}

.glow-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s;
}

.glow-btn:hover::before {
    left: 100%;
}

/* Section Dividers */
.section-divider {
    width: 80px;
    height: 4px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    margin: 0 auto 2rem;
    border-radius: 2px;
    position: relative;
}

.section-divider::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 12px;
    height: 12px;
    background: #667eea;
    border-radius: 50%;
    box-shadow: 0 0 0 4px white, 0 0 0 6px #667eea;
}

/* Enhanced Stats */
.stat-card {
    background: white;
    padding: 2.5rem 1.5rem;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
    border: 1px solid rgba(102, 126, 234, 0.1);
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.stat-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);
}

.pulse-icon {
    animation: iconPulse 2s ease-in-out infinite;
}

@keyframes iconPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
}

.stat-number {
    font-size: 3rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

/* Interactive Skills */
.skill-category-card {
    background: white;
    padding: 2.5rem 2rem;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.4s ease;
    text-align: center;
    position: relative;
    overflow: hidden;
    cursor: pointer;
}

.interactive-card:hover {
    transform: translateY(-10px) scale(1.02);
    box-shadow: 0 20px 40px rgba(102, 126, 234, 0.2);
}

.rotating-icon {
    animation: rotate 10s linear infinite;
}

@keyframes rotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.skill-tag {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 0.4rem 1rem;
    border-radius: 25px;
    font-size: 0.85rem;
    font-weight: 500;
    transition: all 0.3s ease;
    animation: slideInUp 0.5s ease-out;
    animation-delay: var(--delay);
    animation-fill-mode: both;
}

.animate-tag {
    opacity: 0;
    transform: translateY(20px);
}

@keyframes slideInUp {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(102, 126, 234, 0.9) 0%, rgba(118, 75, 162, 0.9) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: all 0.3s ease;
}

.interactive-card:hover .card-overlay {
    opacity: 1;
}

.overlay-btn {
    color: white;
    font-size: 2rem;
    text-decoration: none;
    transform: scale(0.5);
    transition: transform 0.3s ease;
}

.interactive-card:hover .overlay-btn {
    transform: scale(1);
}

/* Timeline */
.timeline-container {
    position: relative;
    max-width: 1000px;
    margin: 0 auto;
}

.timeline-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 100%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.timeline-item {
    position: relative;
    margin-bottom: 3rem;
    width: 50%;
}

.timeline-item:nth-child(odd) {
    left: 0;
    padding-right: 3rem;
}

.timeline-item:nth-child(even) {
    left: 50%;
    padding-left: 3rem;
}

.timeline-marker {
    position: absolute;
    top: 20px;
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 0 4px white, 0 0 0 8px #667eea;
}

.timeline-item:nth-child(odd) .timeline-marker {
    right: -30px;
}

.timeline-item:nth-child(even) .timeline-marker {
    left: -30px;
}

.experience-card {
    background: white;
    padding: 2rem;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: all 0.4s ease;
    position: relative;
    overflow: hidden;
}

.tech-badge {
    background: #f8f9fa;
    color: #495057;
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    font-size: 0.8rem;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    display: inline-block;
    border: 1px solid #dee2e6;
    transition: all 0.3s ease;
}

.tech-badge:hover {
    background: #667eea;
    color: white;
    transform: translateY(-2px);
}

/* Animation Classes */
.animate-on-scroll {
    opacity: 0;
    transform: translateY(30px);
    transition: all 0.8s ease;
}

.animate-on-scroll.animated {
    opacity: 1;
    transform: translateY(0);
}

/* Responsive */
@media (max-width: 768px) {
    .timeline-container::before {
        left: 30px;
    }
    
    .timeline-item {
        width: 100%;
        left: 0 !important;
        padding-left: 4rem !important;
        padding-right: 1rem !important;
    }
    
    .timeline-marker {
        left: 0 !important;
        right: auto !important;
    }
    
    .nav-pill {
        padding: 0.5rem 1rem;
        font-size: 0.9rem;
    }
    
    .profile-image {
        width: 200px;
        height: 200px;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Section Navigation
    const navPills = document.querySelectorAll('.nav-pill');
    const sections = document.querySelectorAll('section[id]');
    
    navPills.forEach(pill => {
        pill.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            
            if (targetSection) {
                const offsetTop = targetSection.offsetTop - 150;
                window.scrollTo({
                    top: offsetTop,
                    behavior: 'smooth'
                });
            }
            
            navPills.forEach(p => p.classList.remove('active'));
            this.classList.add('active');
        });
    });
    
    // Update active nav on scroll
    window.addEventListener('scroll', function() {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop - 200;
            if (window.pageYOffset >= sectionTop) {
                current = section.getAttribute('id');
            }
        });
        
        navPills.forEach(pill => {
            pill.classList.remove('active');
            if (pill.getAttribute('href') === '#' + current) {
                pill.classList.add('active');
            }
        });
    });
    
    // Scroll Animations
    const animatedElements = document.querySelectorAll('.animate-on-scroll');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const delay = entry.target.dataset.delay || 0;
                setTimeout(() => {
                    entry.target.classList.add('animated');
                }, parseFloat(delay) * 1000);
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    });
    
    animatedElements.forEach(el => observer.observe(el));
    
    // Counter Animations
    const counters = document.querySelectorAll('.counter');
    
    const counterObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = parseInt(counter.dataset.target);
                const duration = 2000;
                const step = target / (duration / 16);
                let current = 0;
                
                const timer = setInterval(() => {
                    current += step;
                    if (current >= target) {
                        counter.textContent = target;
                        clearInterval(timer);
                    } else {
                        counter.textContent = Math.floor(current);
                    }
                }, 16);
                
                counterObserver.unobserve(counter);
            }
        });
    }, { threshold: 0.5 });
    
    counters.forEach(counter => counterObserver.observe(counter));
    
    // Typing Animation
    const typingText = document.querySelector('.typing-text');
    if (typingText) {
        const text = typingText.textContent;
        typingText.textContent = '';
        
        let i = 0;
        const typeWriter = () => {
            if (i < text.length) {
                typingText.textContent += text.charAt(i);
                i++;
                setTimeout(typeWriter, 100);
            }
        };
        
        setTimeout(typeWriter, 1000);
    }
});
</script>
